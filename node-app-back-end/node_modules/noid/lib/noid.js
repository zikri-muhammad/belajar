(function() {
  var Noid, mongo;
  require.paths.unshift(__dirname);
  mongo = require('mongodb');
  Noid = function() {
    function Noid() {}
    return Noid;
  }();
  Noid.collections = function() {
    return this.db().collections;
  };
  Noid.configure = function(options) {
    this.host = options.host || 'localhost';
    this.port = options.port || 27017;
    return this.dbName = options.db;
  };
  Noid.db = function(callback) {
    var db;
    if (this._db != null) {
      callback(null, this._db);
    }
    db = new mongo.Db(this.dbName, new mongo.Server(this.host, this.port));
    return db.open(function(error, client) {
      this._db = db;
      return callback(error, db);
    });
  };
  exports.Noid = Noid;
}).call(this);
